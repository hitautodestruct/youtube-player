{"ts":1381137102533,"silentsave":true,"restoring":false,"patch":[[{"diffs":[[1,"<!DOCTYPE html>\n<html>\n<head>\n<meta charset=\"utf-8\">\n<title>Search</title>\n<link rel=\"stylesheet\" href=\"//netdna.bootstrapcdn.com/bootstrap/3.0.0/css/bootstrap.min.css\">\n<style type=\"text/css\">\n.row { margin: 1em 0; }\n.list-item{\n    height: 17em;\n    font-size: .8em;\n}\n</style>\n</head>\n<body>\n    <div class=\"container\">\n        <div class=\"row\">\n            <div class=\"col-md-12\">\n                <form role=\"form\" class=\"form-inline\">\n                    <div class=\"input-group\">\n                        <input type=\"text\" id=\"query\" class=\"form-control input-lg\">\n                        <div class=\"input-group-btn\">\n                            <span class=\"btn btn-default btn-lg disabled\">Autoplay</span>\n                            <button class=\"btn btn-success btn-lg js-toggle-btn js-autoplay-on\" data-state=\"true\">On</button>\n                            <button class=\"btn btn-default btn-lg js-toggle-btn js-autoplay-off\" data-state=\"false\">Off</button>\n                        </div>\n                    </div>\n                </form>\n            </div>\n        </div>\n        <div class=\"row\">\n            <div class=\"col-md-6 col-md-push-6\">\n                <div id=\"player\"></div>\n            </div>\n            <div class=\"col-md-6 col-md-pull-6\">\n                <div id=\"search-container\" class=\"search-results row\"></div>\n            </div>\n        </div>\n    </div>\n    <script src=\"//ajax.googleapis.com/ajax/libs/jquery/1.8.2/jquery.min.js\"></script>\n    <script src=\"https://www.youtube.com/iframe_api\"></script>\n    <script type=\"text/javascript\">\n    \n        var player, playerReady = false;\n    \n        function onYouTubeIframeAPIReady() {\n            player = new YT.Player('player', {\n                height: '390',\n                width: '100%',\n                videoId: '',\n                events: { onReady: function () { playerReady = true; } }\n            });\n        }\n        \n        jQuery(function( $ ){\n       \n            var url = 'https://www.googleapis.com/youtube/v3/search',\n                params = {\n                    part:\"snippet\",\n                    q: 'Ellie Goulding',\n                    type:\"video\",\n                    maxResults: 15,\n                    key:\"AIzaSyBxEaM5O2ImjXq0qcoJjSKBx5ZuUZ0s2lQ\"\n                },\n                // Call for single video details (returns interesting stuff including duration)\n                videoParams = {\n                    part:'contentDetails,statistics',\n                    id: 'voNEBqRZmBc'\n                }\n                firstVideo = false,\n                autoPlay = true,\n                $searchContainer = $('#search-container');\n\n            setInterval(function(){\n            \n                if ( firstVideo && playerReady ) {\n                \n                    if ( player.getPlayerState() !== 1 ){\n                \n                        firstVideo = $searchContainer.find('.list-item:first-child a').data('id');\n                \n                    console.log( autoPlay );\n                \n                        if ( autoPlay )\n                            player.loadVideoById({ videoId: firstVideo });\n                        else\n                            player.cueVideoById({ videoId: firstVideo });\n                        \n                    }\n                    \n                    firstVideo = false;\n                \n                };\n            \n            }, 1000);\n                \n            $('#query').keyup(function(e){\n            \n                e.preventDefault();\n                \n                params.q = $('#query').val();\n                \n                $.get(url, params, function(data){\n                \n                    var items = data.items;\n                    \n                    console.log(items);\n\n                    $searchContainer.html('');\n                    \n                    items.forEach(function( item ){\n                    \n                        $searchContainer\n                            .append('<div class=\"list-item col-md-3\"><a href=\"http://www.youtube.com/embed/'+ item.id.videoId +'\" data-id=\"'+ item.id.videoId +'\" class=\"video\"><img src=\"'+ item.snippet.thumbnails.default.url +'\" class=\"thumb\"></a><div>'+ item.snippet.title +'</div></div>');\n                            \n                        firstVideo = true;\n                    \n                    });\n                \n                });\n            \n            });\n\n            // Toggle on off buttons\n            $('.js-toggle-btn').click( function ( e ) {\n            \n                e.preventDefault();\n                \n                if ( !$(this).data('status') ) {\n                \n                    $(this)\n                        .addClass('btn-success')\n                        .data('status', true)\n                        .siblings('.js-toggle-btn')\n                        .data('status', false)\n                        .addClass('btn-default')\n                        .removeClass('btn-success')\n                }\n            \n            });\n            \n            $('.js-autoplay-on').click(function () { autoPlay = true; });\n            $('.js-autoplay-off').click(function () { autoPlay = false; });\n            \n            $searchContainer.on('click', '.video', function( e ){\n            \n                e.preventDefault();\n                \n                if ( playerReady ) {\n                \n                    var videoid = $(this).data('id');\n                \n                    player.loadVideoById({ videoId: videoid });\n                \n                }\n            \n            });\n       \n        });\n        \n        \n    </script>\n</body>\n</html>\n"]],"start1":0,"start2":0,"length1":0,"length2":5665}]],"length":5665}
{"contributors":[],"silentsave":false,"ts":1381137487256,"patch":[[{"diffs":[[0,"d-pull-6"],[1," col-xs-12"],[0,"\">\n     "]],"start1":1258,"start2":1258,"length1":16,"length2":26}]],"length":5675,"saved":false}
{"ts":1381137604525,"patch":[[{"diffs":[[0,"ll-6"],[-1," col-xs-12"],[0,"\">\n "]],"start1":1262,"start2":1262,"length1":18,"length2":8},{"diffs":[[0,"col-md-3"],[1," col-xs-3"],[0,"\"><a hre"]],"start1":4024,"start2":4024,"length1":16,"length2":25}]],"length":5674,"saved":false}
{"ts":1381137699048,"patch":[[{"diffs":[[0,"d-3 "],[1,"col-sm-3 "],[0,"col-xs-"],[-1,"3"],[1,"6"],[0,"\"><a"]],"start1":4029,"start2":4029,"length1":16,"length2":25}]],"length":5683,"saved":false}
{"ts":1381137801259,"patch":[[{"diffs":[[0,": .8em;\n"],[1,"    margin-bottom: .2em;\n"],[0,"}\n</styl"]],"start1":261,"start2":261,"length1":16,"length2":41},{"diffs":[[0,"   \n"],[-1,"                    console.log( autoPlay );\n                \n"],[0,"    "]],"start1":2982,"start2":2982,"length1":70,"length2":8},{"diffs":[[0,"ems;"],[-1,"\n                    \n                    console.log(items);"],[0,"\n\n  "]],"start1":3679,"start2":3679,"length1":69,"length2":8}]],"length":5585,"saved":false}
{"ts":1381139022550,"patch":[[{"diffs":[[0,"     </div>\n"],[1,"        <div class=\"row\">\n            <div class=\"col-md-12 col-xs-12\">Project developed by <a href=\"http://netyou.co.il\"><img src=\"logo.svg\" alt=\"NetYou\"></a></div>\n        </div>\n"],[0,"    </div>\n "]],"start1":1393,"start2":1393,"length1":24,"length2":205}]],"length":5766,"saved":false}
{"ts":1381139143165,"patch":[[{"diffs":[[0,".2em;\n}\n"],[1,".logo { height: 1em; }\n"],[0,"</style>"]],"start1":288,"start2":288,"length1":16,"length2":39},{"diffs":[[0,"\"NetYou\""],[1," class=\"logo\""],[0,"></a></d"]],"start1":1574,"start2":1574,"length1":16,"length2":29}]],"length":5802,"saved":false}
